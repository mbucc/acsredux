{{> ../head}}

{{pageIntro}}

{{#error}}
<p style="color: red">{{{error}}}</p>
{{/error}}

<p><a href="/photo-diary/{{diaryID}}/add-image"><button id="add-img" type="button">+ img</button></a>

<div id="diary-summary"></div>
<script src="/static/js/elm_edit_text.js"></script>
<script>
  const app = Elm.EditText.init({
    node: document.getElementById("diary-summary"),
    flags: [{{ diaryID }}, null]
  });
</script>


{{#sections}}
<h2>{{title}}</h2>

{{#entries}}
{{#text}}
{{{text}}}{{/text}}
{{#photoID}}
<div id="imgdiv-{{photoID}}">
<img src="{{src}}" id="{{photoID}}" alt="{{alt}}" title="{{alt}}" data-contentID="{{diaryID}}" />
<br>
<a id="deleteButton-{{photoID}}" href="javascript:deleteImage('{{photoID}}')">delete &uarr;</a>
</div>
{{/photoID}}
{{/entries}}

{{/sections}}

<script src="/static/js/deleteImage.js"></script>

{{> ../tail}}
